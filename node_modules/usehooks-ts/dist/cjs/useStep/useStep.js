"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = require("react");
function useStep(maxStep) {
    const [currentStep, setCurrentStep] = (0, react_1.useState)(1);
    const canGoToNextStep = (0, react_1.useMemo)(() => currentStep + 1 <= maxStep, [currentStep, maxStep]);
    const canGoToPrevStep = (0, react_1.useMemo)(() => currentStep - 1 >= 1, [currentStep]);
    const setStep = (0, react_1.useCallback)(step => {
        const newStep = step instanceof Function ? step(currentStep) : step;
        if (newStep >= 1 && newStep <= maxStep) {
            setCurrentStep(newStep);
            return;
        }
        throw new Error('Step not valid');
    }, [maxStep, currentStep]);
    const goToNextStep = (0, react_1.useCallback)(() => {
        if (canGoToNextStep) {
            setCurrentStep(step => step + 1);
        }
    }, [canGoToNextStep]);
    const goToPrevStep = (0, react_1.useCallback)(() => {
        if (canGoToPrevStep) {
            setCurrentStep(step => step - 1);
        }
    }, [canGoToPrevStep]);
    const reset = (0, react_1.useCallback)(() => {
        setCurrentStep(1);
    }, []);
    return [
        currentStep,
        {
            goToNextStep,
            goToPrevStep,
            canGoToNextStep,
            canGoToPrevStep,
            setStep,
            reset,
        },
    ];
}
exports.default = useStep;
//# sourceMappingURL=useStep.js.map